<ss-navbar></ss-navbar>

<div class="container">
  <div class="share-row">
    <nz-input-group nzSearch [nzAddOnAfter]="suffixButton">
      <input type="text" nz-input readonly [value]="shareLink"/>
    </nz-input-group>
    <button nz-button nzType="primary">
      <nz-icon nzType="plus-square" nzTheme="outline"/>
      Add To Share
    </button>
    <ng-template #suffixButton>
      <button nz-button nzType="primary" nzSearch>
        <nz-icon nzType="link" nzTheme="outline"/>
        Copy Share Link
      </button>
    </ng-template>
  </div>

  <div class="main">
    <div class="sidebar">
      <ng-container *ngFor="let item of items">
        <ss-share-item-card
          [item]="item"
          [selected]="item === selectedItem"
          (click)="select(item)">
        </ss-share-item-card>
      </ng-container>
    </div>
    <div class="content">
      <ng-container *ngIf="!selectedItem">
        <div class="empty">
          <div>
            ðŸ‘‹ Nothing selected yet!
          </div>
          <div>
            Click an item from the list to see details here.
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="selectedItem">
          <div class="item-actions">
            <button *ngIf="isSelectedItemAFile()" nz-button nzType="dashed" nzSize="default" nzShape="circle">
              <nz-icon nzType="download" />
            </button>
            <button nz-button nzType="dashed" nzSize="default" nzShape="circle">
              <nz-icon nzType="copy" nzTheme="twotone" nzTwotoneColor="#52c41a" />
            </button>
            <button nz-button nzType="dashed" nzSize="default" nzShape="circle">
              <nz-icon nzType="delete" nzTheme="twotone" nzTwotoneColor="#ff4d4f" />
            </button>
          </div>
          <div class="item-content">
            <ng-container *ngIf="isLink()">
              <a target="_blank" href="{{ selectedItem.url }}">{{ selectedItem.url }} </a>
              <div class="link-warning">
                If clicked, this link will open in a new tab. Exercise caution when visiting links
              </div>
            </ng-container>
            <ng-container *ngIf="isText()">
              <p>
                {{ selectedItem.content }}
              </p>
            </ng-container>
          </div>
      </ng-container>
    </div>
  </div>
</div>
